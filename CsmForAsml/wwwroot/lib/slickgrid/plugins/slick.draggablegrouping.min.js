/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/slickgrid@2.4.27/plugins/slick.draggablegrouping.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(e){e.extend(!0,window,{Slick:{DraggableGrouping:function(o){var r,n,l,a,i,s,t,d={},c=new Slick.Event;var p=[];function u(r,a){var i=a.attr("id").replace(n,""),d=!0;p.forEach(function(e,o,r){e.id==i&&(d=!1)}),d&&(l.forEach(function(t,d,c){if(t.id==i&&null!=t.grouping&&!e.isEmptyObject(t.grouping)){var u=e("<div id='"+n+t.id+"_entry' data-id='"+t.id+"' class='slick-dropped-grouping'>"),f=e("<div style='display: inline-flex'>"+a.text()+"</div>");f.appendTo(u);var h=e("<div class='slick-groupby-remove'>&nbsp;</div>");o.deleteIconCssClass&&h.addClass(o.deleteIconCssClass),o.deleteIconImage&&h.css("background","url("+o.deleteIconImage+") no-repeat center right"),o.deleteIconCssClass||o.deleteIconImage||h.addClass("slick-groupby-remove-image"),h.appendTo(u),e("</div>").appendTo(u),u.appendTo(r),function(e){p.push(e),g("add-group")}(t),function(o,r,a,i){var t=i;e("#"+n+o+"_entry >.slick-groupby-remove").on("click",function(){e(this).off("click"),function(e,o,r){r.remove();var n=[];l.forEach(function(e,o,r){n[e.id]=e}),function(e){for(var o,r,n=arguments,l=n.length;l>1&&e.length;)for(o=n[--l];-1!=(r=e.indexOf(o));)e.splice(r,1)}(p,n[e]),0===p.length&&s.show();g("remove-group")}(o,0,t)})}(t.id,0,0,u)}}),t.css("display","block"))}function g(e){if(0===p.length)return a.setGrouping([]),void c.notify({caller:e,groupColumns:[]});var o=[];p.forEach(function(e,r,n){o.push(e.grouping)}),a.setGrouping(o),c.notify({caller:e,groupColumns:o})}e.extend(this,{init:function(c){o=e.extend(!0,{},d,o),n=(r=c).getUID(),l=r.getColumns(),a=r.getData(),i=e(r.getPreHeaderPanel());var f=o.dropPlaceHolderText||"Drop a column header here to group by the column";i.html("<div class='slick-placeholder'>"+f+"</div><div class='slick-group-toggle-all expanded' style='display:none'></div>"),s=i.find(".slick-placeholder"),t=i.find(".slick-group-toggle-all"),i.droppable({activeClass:"ui-state-default",hoverClass:"ui-state-hover",accept:":not(.ui-sortable-helper)",deactivate:function(e,o){i.removeClass("slick-header-column-denied")},drop:function(e,o){u(this,o.draggable)},over:function(e,o){var r=o.draggable.attr("id").replace(n,"");l.forEach(function(e,o,n){e.id==r&&null==e.grouping&&i.addClass("slick-header-column-denied")})}}),i.sortable({items:"div.slick-dropped-grouping",cursor:"default",tolerance:"pointer",helper:"clone",update:function(o,r){for(var n=e(this).sortable("toArray",{attribute:"data-id"}),l=[],a=0,i=n.length;a<i;a++)for(var s=0,t=p.length;s<t;s++)if(p[s].id==n[a]){l.push(p[s]);break}p=l,g("sort-group")}}),i.html(),t.on("click",function(e){this.classList.contains("collapsed")?(this.classList.remove("collapsed"),this.classList.add("expanded"),a.expandAllGroups()):(this.classList.add("collapsed"),this.classList.remove("expanded"),a.collapseAllGroups())}),r.onHeaderCellRendered.subscribe(function(r,n){var l=n.column,a=n.node;if(!e.isEmptyObject(l.grouping)){var i=e("<span class='slick-column-groupable' />");o.groupIconCssClass&&i.addClass(o.groupIconCssClass),o.groupIconImage&&i.css("background","url("+o.groupIconImage+") no-repeat center center"),e(a).css("cursor","pointer").append(i)}});for(var h=0;h<l.length;h++){var v=l[h].field;r.updateColumnHeader(v)}},destroy:function(){c.unsubscribe()},pluginName:"DraggableGrouping",onGroupChanged:c,setDroppedGroups:function(o){var n=o instanceof Array?o:[o];s.hide();for(var l=0;l<n.length;l++){var a=e(r.getHeaderColumn(n[l]));u(i,a)}},clearDroppedGroups:function(){p=[],g("clear-all"),i.find(".slick-dropped-grouping").remove(),t.css("display","none"),s.show()},getSetupColumnReorder:function(o,r,n,l,a,i,s,t,d){r.filter(":ui-sortable").sortable("destroy");var c=e(o.getPreHeaderPanel());r.sortable({distance:3,cursor:"default",tolerance:"intersection",helper:"clone",placeholder:"slick-sortable-placeholder ui-state-default slick-header-column",forcePlaceholderSize:!0,appendTo:"body",start:function(o,r){e(r.helper).addClass("slick-header-column-active"),c.find(".slick-placeholder").show(),c.find(".slick-dropped-grouping").hide()},beforeStop:function(o,r){e(r.helper).removeClass("slick-header-column-active");var n=c.find(".slick-dropped-grouping").length;n>0&&(c.find(".slick-placeholder").hide(),c.find(".slick-dropped-grouping").show())},stop:function(n){if(o.getEditorLock().commitCurrentEdit()){for(var c=r.sortable("toArray"),p=[],u=0;u<c.length;u++)p.push(i[s(c[u].replace(t,""))]);l(p),d(o.onColumnsReordered,{grid:o}),n.stopPropagation(),a()}else e(this).sortable("cancel")}})}})}}})}(jQuery);
//# sourceMappingURL=/sm/a2c21b862b7f0c58725785825ce26fc934229c5499a954cbc26ac35d040376c9.map